<!DOCTYPE html><html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Happy Birthday Princee</title>
  <link href="https://fonts.googleapis.com/css2?family=Merienda:wght@700&family=Poppins:wght@300;500;700&display=swap" rel="stylesheet">
  <style>
    :root{
      --bg1:#fff0f8;
      --bg2:#e8f7ff;
      --accent:#ff2d7a;
      --accent-2:#ff83c7;
      --muted:#5a5a5a;
    }
    *{box-sizing:border-box}
    html,body{height:100%;margin:0;font-family:Poppins,system-ui,Arial;background:linear-gradient(135deg,var(--bg1),var(--bg2));}.stage{
  height:100vh; width:100vw; display:flex; align-items:center; justify-content:center; position:relative; overflow:hidden;
}

/* soft glowing circles in background */
.glow{position:absolute; border-radius:50%; filter:blur(80px); opacity:0.28}
.glow.g1{width:420px;height:420px; background:radial-gradient(circle at 30% 30%, #ffd7ef, transparent 40%); left:-80px; top:-60px}
.glow.g2{width:520px;height:520px; background:radial-gradient(circle at 70% 70%, #d8f3ff, transparent 40%); right:-120px; bottom:-100px}

/* main card */
.card{
  width:min(920px,94%);
  max-width:1100px;
  height:min(680px,86vh);
  background:linear-gradient(180deg, rgba(255,255,255,0.9), rgba(255,255,255,0.85));
  border-radius:28px; box-shadow:0 30px 80px rgba(20,20,50,0.12); display:flex; gap:24px; padding:28px; align-items:center; justify-content:center; position:relative; overflow:visible;
}

/* left artwork */
.left{
  flex:1 1 46%; display:flex; align-items:center; justify-content:center; position:relative; padding:18px;
}
.balloon-bunch{width:320px; height:420px; position:relative}
.balloon{position:absolute; width:120px; transform-origin:center bottom; will-change:transform;}
.b1{left:8%; bottom:6%; animation:rise 6s ease-in-out infinite}
.b2{left:40%; bottom:14%; width:140px; animation:rise 5.2s ease-in-out infinite}
.b3{right:6%; bottom:10%; width:110px; animation:rise 6.6s ease-in-out infinite}
@keyframes rise{0%{transform:translateY(0) rotate(-6deg)}50%{transform:translateY(-22px) rotate(6deg)}100%{transform:translateY(0) rotate(-6deg)}}

/* right content */
.right{flex:1 1 54%; padding:16px; display:flex; flex-direction:column; align-items:flex-start; justify-content:center}
.badge{font-family:Merienda, cursive; color:var(--accent); background:linear-gradient(90deg, rgba(255,45,122,0.08), rgba(255,131,199,0.06)); padding:8px 14px; border-radius:18px; font-size:1rem}
h1{margin:18px 0 8px; font-family:Merienda, cursive; font-size:3.1rem; color:var(--accent-2); line-height:1;}
.subtitle{font-size:1.05rem; color:var(--muted); margin-bottom:20px}

.action-row{display:flex; gap:12px; align-items:center}
.btn{background:linear-gradient(90deg,var(--accent),var(--accent-2)); color:white; padding:12px 18px; border-radius:24px; border:2px solid var(--accent-2); font-weight:600; cursor:pointer; box-shadow:0 0 14px rgba(255,130,180,0.45); transition:0.25s ease}
.btn.secondary{background:transparent; color:var(--accent-2); border:2px solid var(--accent-2); border-radius:24px; box-shadow:0 0 12px rgba(255,150,200,0.35); transition:0.25s ease}

/* confetti canvas overlay */
#confettiCanvas{position:absolute; left:0; top:0; width:100%; height:100%; pointer-events:none}

/* sparkle dots */
.sparkle{position:absolute; width:8px; height:8px; border-radius:50%; background:rgba(255,255,255,0.9); box-shadow:0 0 18px rgba(255,255,255,0.9); opacity:0.9; will-change:transform,opacity}

.btn:hover{transform:scale(1.07); opacity:0.95; box-shadow:0 0 18px rgba(255,120,180,0.65)}{transform:scale(1.05);opacity:0.9;transition:0.25s ease;} .btn.secondary:hover{transform:scale(1.07); opacity:0.98; border-color:var(--accent); color:var(--accent); box-shadow:0 0 18px rgba(255,150,200,0.6)}{transform:scale(1.05);border-color:var(--accent);color:var(--accent);opacity:0.95;transition:0.25s ease;} .btn:focus, .btn.secondary:focus{outline:none !important; box-shadow:none !important;} .btn{animation:pulse 6s ease-in-out infinite;}

@keyframes pulse{0%{transform:scale(1);box-shadow:0 0 14px rgba(255,130,180,0.35)}50%{transform:scale(1.02);box-shadow:0 0 28px rgba(255,120,180,0.45)}100%{transform:scale(1);box-shadow:0 0 14px rgba(255,130,180,0.35)}} @media (prefers-reduced-motion: reduce){ .btn{animation:none !important} }

@media (max-width:880px){ .card{flex-direction:column; height:auto; padding:20px} h1{font-size:2.2rem} .left{order:2} .right{order:1; align-items:center; text-align:center} } .btn{cursor:pointer} .btn:active{transform:translateY(1px) scale(.99)} .btn-hint{font-size:0.95rem;color:rgba(85,85,85,0.9);margin-top:10px;opacity:0;transition:opacity 400ms ease; text-align:left} @media (max-width:880px){.btn-hint{text-align:center}} </style>

</head>
<body>
  <div class="stage">
    <div class="glow g1"></div>
    <div class="glow g2"></div><div class="card" role="main" aria-label="Birthday card for Princee">

  <canvas id="confettiCanvas" aria-hidden="true"></canvas>

  <div class="left" aria-hidden="true">
    <div class="balloon-bunch">
      <img class="balloon b1" src="https://pngimg.com/uploads/balloon/balloon_PNG4964.png" alt="balloon" />
      <img class="balloon b2" src="https://pngimg.com/uploads/balloon/balloon_PNG4960.png" alt="balloon" />
      <img class="balloon b3" src="https://pngimg.com/uploads/balloon/balloon_PNG4958.png" alt="balloon" />
    </div>
  </div>

  <div class="right">
    <div class="badge">For Princee</div>
    <h1>Happy Birthday <span style="color:var(--accent)">Princee</span><span style="margin-left:-6px;"> ðŸŽ€</span></h1>
    <div class="subtitle">May your day sparkle with smiles, hugs and sweet surprises âœ¨</div>

    $1
    <div class="btn-hint" id="btnHint">Tap a button to interact</div>
  </div>
  <!-- decorative sparkles -->
  <div id="sparkles" aria-hidden="true"></div>
</div>

  </div>  <script>
    // Fixed confetti script: ensures canvas sizing and click handler work reliably
    const canvas = document.getElementById('confettiCanvas');
    const ctx = canvas.getContext('2d');
    let W = 0, H = 0, confetti = [], animationId = null;

    function resizeCanvas(){
      canvas.width = canvas.offsetWidth;
      canvas.height = canvas.offsetHeight;
      W = canvas.width; H = canvas.height;
    }

    // ensure canvas sized after load and on resize
    window.addEventListener('load', ()=>{ resizeCanvas(); });
    window.addEventListener('resize', resizeCanvas);

    function rand(min,max){ return Math.random()*(max-min)+min }

    function spawnConfetti(count = 140){
      for(let i=0;i<count;i++){
        confetti.push({
          x: rand(0, W),
          y: rand(-H, 0),
          r: rand(6,12),
          vx: rand(-1.5,1.5),
          vy: rand(2,6),
          tilt: rand(-10,10),
          tiltSpeed: rand(0.05,0.12),
          color: ['#ff2d7a','#fff176','#8bc34a','#00bcd4','#ff8bcf'][Math.floor(rand(0,5))]
        });
      }
      if(!animationId) animate();
    }

    function drawConfetti(){
      if(!ctx) return;
      ctx.clearRect(0,0,W,H);
      for(let i=0;i<confetti.length;i++){
        const p = confetti[i];
        p.x += p.vx; p.y += p.vy; p.tilt += p.tiltSpeed;
        ctx.save();
        ctx.fillStyle = p.color;
        ctx.translate(p.x, p.y);
        ctx.rotate(p.tilt * Math.PI/180);
        ctx.fillRect(-p.r/2, -p.r/2, p.r, p.r*0.6);
        ctx.restore();
      }
      // remove off-screen
      confetti = confetti.filter(p => p.y < H + 40);
      if(confetti.length === 0){ cancelAnimationFrame(animationId); animationId = null; ctx.clearRect(0,0,W,H); }
    }

    function animate(){ animationId = requestAnimationFrame(animate); drawConfetti(); }

    // safe attach: remove old listener if any, then add
    function ensureListener(){
      const btn = document.getElementById('confettiBtn');
      if(!btn) return;
      // remove any existing to avoid duplicates
      btn.replaceWith(btn.cloneNode(true));
      const newBtn = document.getElementById('confettiBtn');
      newBtn.addEventListener('click', ()=>{ spawnConfetti(180); createSparkles(18); });
    }

    // recreate messages button handler too (keeps existing behavior)
    function ensureMsgListener(){
      const m = document.getElementById('msgBtn');
      if(!m) return;
      m.replaceWith(m.cloneNode(true));
      document.getElementById('msgBtn').addEventListener('click', ()=>{
        // simple popup placeholder â€” can be upgraded
        showMessagesPopup();
      });
    }

    // sparkles (same as before)
    const sparklesEl = document.getElementById('sparkles');
    function createSparkles(n){
      for(let i=0;i<n;i++){
        const s = document.createElement('div'); s.className = 'sparkle';
        s.style.left = (10 + Math.random()*80) + '%';
        s.style.top = (10 + Math.random()*80) + '%';
        sparklesEl.appendChild(s);
        const life = 800 + Math.random()*900;
        s.animate([{opacity:1, transform:'scale(1)'},{opacity:0, transform:'scale(.2)'}], {duration: life, easing:'ease-out'});
        setTimeout(()=> s.remove(), life);
      }
    }

    // simple popup for Messages (initial implementation)
    function showMessagesPopup(){
      // create overlay
      const overlay = document.createElement('div');
      overlay.style.position = 'fixed'; overlay.style.left = 0; overlay.style.top = 0; overlay.style.right = 0; overlay.style.bottom = 0;
      overlay.style.background = 'rgba(0,0,0,0.45)'; overlay.style.display = 'flex'; overlay.style.alignItems = 'center'; overlay.style.justifyContent = 'center';
      overlay.style.zIndex = 9999;
      // card
      const box = document.createElement('div');
      box.style.width = 'min(520px,90%)'; box.style.background = 'linear-gradient(180deg, #fff, #fffaf7)'; box.style.borderRadius = '20px';
      box.style.padding = '20px 22px'; box.style.boxShadow = '0 20px 60px rgba(0,0,0,0.2)'; box.style.textAlign = 'left';

      const title = document.createElement('div'); title.textContent = 'ðŸ’¬ Special Messages for Princee';
      title.style.fontSize = '18px'; title.style.fontWeight = 700; title.style.marginBottom = '10px';

      const list = document.createElement('div'); list.style.maxHeight = '320px'; list.style.overflow = 'auto'; list.style.paddingRight = '8px';
      const messages = [
        'May your day be as bright and lovely as your smile âœ¨',
        'You make every moment sweeter â€” happy birthday! ðŸŽ‚',
        'Keep shining â€” the world is lucky to have you ðŸ’–',
        'Hugs, cake and unlimited smiles â€” today is yours! ðŸŽ‰'
      ];
      messages.forEach(msg=>{ const p = document.createElement('p'); p.textContent = msg; p.style.margin = '10px 0'; p.style.fontSize = '15px'; list.appendChild(p); });

      const close = document.createElement('button'); close.textContent = 'Close';
      close.style.marginTop = '12px'; close.style.padding = '10px 14px'; close.style.borderRadius = '12px'; close.style.border = '0';
      close.style.background = 'linear-gradient(90deg,#ff2d7a,#ff83c7)'; close.style.color = 'white'; close.style.fontWeight = 700; close.style.cursor = 'pointer';

      close.addEventListener('click', ()=>{ overlay.remove(); });

      box.appendChild(title); box.appendChild(list); box.appendChild(close); overlay.appendChild(box); document.body.appendChild(overlay);
    }

    // initialize listeners after DOM ready
    document.addEventListener('DOMContentLoaded', ()=>{
      resizeCanvas(); ensureListener(); ensureMsgListener();
    });
  // add accessibility titles and hint hide
    (function(){
      const c = document.getElementById('confettiBtn');
      const m = document.getElementById('msgBtn');
      if(c) c.title = 'Celebrate â€” click to release confetti';
      if(m) m.title = 'Messages â€” open sweet wishes';
      const hint = document.getElementById('btnHint');
      if(hint){
        // show briefly then fade
        setTimeout(()=>{ hint.style.opacity = '1'; }, 600);
        setTimeout(()=>{ hint.style.opacity = '0'; }, 4200);
      }
      // add small focus ring for keyboard users
      document.querySelectorAll('.btn').forEach(b=>{
        b.addEventListener('focus', ()=> b.style.boxShadow = '0 0 22px rgba(255,120,180,0.6)');
        b.addEventListener('blur', ()=> b.style.boxShadow = '0 0 14px rgba(255,130,180,0.45)');
      });
    })();
  </script></body>
</html>
